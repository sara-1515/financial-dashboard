{"ast":null,"code":"// Format stock data from AlphaVantage API\nexport const formatStockData = (data, symbol) => {\n  if (!data || !data['Time Series (5min)']) {\n    throw new Error('Invalid data format received from API');\n  }\n  const timeSeries = data['Time Series (5min)'];\n  const timestamps = [];\n  const prices = [];\n\n  // Convert time series object to arrays\n  Object.keys(timeSeries).slice(0, 30).forEach(timestamp => {\n    // Format timestamp for display\n    const date = new Date(timestamp);\n    timestamps.push(date.toLocaleTimeString([], {\n      hour: '2-digit',\n      minute: '2-digit'\n    }));\n\n    // Get close price for each interval\n    prices.push(parseFloat(timeSeries[timestamp]['4. close']));\n  });\n\n  // Reverse arrays to show oldest to newest\n  timestamps.reverse();\n  prices.reverse();\n  const currentPrice = prices[prices.length - 1];\n  const openPrice = prices[0];\n  const priceChange = currentPrice - openPrice;\n  const priceChangePercent = priceChange / openPrice * 100;\n  return {\n    symbol,\n    timestamps,\n    prices,\n    currentPrice,\n    openPrice,\n    priceChange,\n    priceChangePercent,\n    volume: parseInt(timeSeries[Object.keys(timeSeries)[0]]['5. volume'])\n  };\n};\n\n// Format currency data from AlphaVantage API\nexport const formatCurrencyData = (data, pair) => {\n  if (!data || !data['Realtime Currency Exchange Rate']) {\n    throw new Error('Invalid currency data format received from API');\n  }\n  const exchangeData = data['Realtime Currency Exchange Rate'];\n  const rate = parseFloat(exchangeData['5. Exchange Rate']);\n\n  // We don't get previous rates from the API, so we'll simulate a small change\n  const prevRate = rate * 0.99; // Simulated previous rate\n  const change = rate - prevRate;\n  const changePercent = change / prevRate * 100;\n  return {\n    pair,\n    rate,\n    high: rate * 1.01,\n    // Simulated high\n    low: rate * 0.99,\n    // Simulated low\n    change,\n    changePercent,\n    timestamp: exchangeData['6. Last Refreshed']\n  };\n};\n\n// Format news data from News API\nexport const formatNewsData = data => {\n  if (!data || !data.articles) {\n    throw new Error('Invalid news data format received from API');\n  }\n  return data.articles.map(article => ({\n    title: article.title,\n    description: article.description,\n    source: article.source.name,\n    url: article.url,\n    publishedAt: article.publishedAt\n  }));\n};","map":{"version":3,"names":["formatStockData","data","symbol","Error","timeSeries","timestamps","prices","Object","keys","slice","forEach","timestamp","date","Date","push","toLocaleTimeString","hour","minute","parseFloat","reverse","currentPrice","length","openPrice","priceChange","priceChangePercent","volume","parseInt","formatCurrencyData","pair","exchangeData","rate","prevRate","change","changePercent","high","low","formatNewsData","articles","map","article","title","description","source","name","url","publishedAt"],"sources":["C:/Users/sarar/OneDrive/Desktop/projects/financial-dashboard/src/srevices/api.js"],"sourcesContent":["// Format stock data from AlphaVantage API\r\nexport const formatStockData = (data, symbol) => {\r\n    if (!data || !data['Time Series (5min)']) {\r\n      throw new Error('Invalid data format received from API');\r\n    }\r\n    \r\n    const timeSeries = data['Time Series (5min)'];\r\n    const timestamps = [];\r\n    const prices = [];\r\n    \r\n    // Convert time series object to arrays\r\n    Object.keys(timeSeries).slice(0, 30).forEach(timestamp => {\r\n      // Format timestamp for display\r\n      const date = new Date(timestamp);\r\n      timestamps.push(date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' }));\r\n      \r\n      // Get close price for each interval\r\n      prices.push(parseFloat(timeSeries[timestamp]['4. close']));\r\n    });\r\n    \r\n    // Reverse arrays to show oldest to newest\r\n    timestamps.reverse();\r\n    prices.reverse();\r\n    \r\n    const currentPrice = prices[prices.length - 1];\r\n    const openPrice = prices[0];\r\n    const priceChange = currentPrice - openPrice;\r\n    const priceChangePercent = (priceChange / openPrice) * 100;\r\n    \r\n    return {\r\n      symbol,\r\n      timestamps,\r\n      prices,\r\n      currentPrice,\r\n      openPrice,\r\n      priceChange,\r\n      priceChangePercent,\r\n      volume: parseInt(timeSeries[Object.keys(timeSeries)[0]]['5. volume'])\r\n    };\r\n  };\r\n  \r\n  // Format currency data from AlphaVantage API\r\n  export const formatCurrencyData = (data, pair) => {\r\n    if (!data || !data['Realtime Currency Exchange Rate']) {\r\n      throw new Error('Invalid currency data format received from API');\r\n    }\r\n    \r\n    const exchangeData = data['Realtime Currency Exchange Rate'];\r\n    const rate = parseFloat(exchangeData['5. Exchange Rate']);\r\n    \r\n    // We don't get previous rates from the API, so we'll simulate a small change\r\n    const prevRate = rate * 0.99; // Simulated previous rate\r\n    const change = rate - prevRate;\r\n    const changePercent = (change / prevRate) * 100;\r\n    \r\n    return {\r\n      pair,\r\n      rate,\r\n      high: rate * 1.01, // Simulated high\r\n      low: rate * 0.99, // Simulated low\r\n      change,\r\n      changePercent,\r\n      timestamp: exchangeData['6. Last Refreshed']\r\n    };\r\n  };\r\n  \r\n  // Format news data from News API\r\n  export const formatNewsData = (data) => {\r\n    if (!data || !data.articles) {\r\n      throw new Error('Invalid news data format received from API');\r\n    }\r\n    \r\n    return data.articles.map(article => ({\r\n      title: article.title,\r\n      description: article.description,\r\n      source: article.source.name,\r\n      url: article.url,\r\n      publishedAt: article.publishedAt\r\n    }));\r\n  };"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}