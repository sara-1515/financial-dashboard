{"ast":null,"code":"// src/services/api.js\nconst API_KEY = process.env.REACT_APP_API_KEY;\n\n// Fetch single stock data\nexport const fetchStockData = async (symbol = 'AAPL') => {\n  try {\n    const response = await fetch(`https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol=${symbol}&apikey=${API_KEY}`);\n    if (!response.ok) {\n      throw new Error(`HTTP error! Status: ${response.status}`);\n    }\n    const data = await response.json();\n\n    // Check if API returned an error\n    if (data['Error Message']) {\n      throw new Error(data['Error Message']);\n    }\n    return formatStockData(data);\n  } catch (error) {\n    console.error('Error fetching stock data:', error);\n    throw error;\n  }\n};\n\n// Fetch multiple stocks data\nexport const fetchMultipleStocksData = async (symbols = ['AAPL', 'MSFT', 'GOOGL']) => {\n  try {\n    const promises = symbols.map(symbol => fetchStockData(symbol));\n    return await Promise.all(promises);\n  } catch (error) {\n    console.error('Error fetching multiple stocks data:', error);\n    throw error;\n  }\n};\n\n// Fetch currency data\nexport const fetchCurrencyData = async (fromCurrency = 'USD', toCurrency = 'EUR') => {\n  try {\n    const response = await fetch(`https://www.alphavantage.co/query?function=CURRENCY_EXCHANGE_RATE&from_currency=${fromCurrency}&to_currency=${toCurrency}&apikey=${API_KEY}`);\n    if (!response.ok) {\n      throw new Error(`HTTP error! Status: ${response.status}`);\n    }\n    const data = await response.json();\n    return formatCurrencyData(data);\n  } catch (error) {\n    console.error('Error fetching currency data:', error);\n    throw error;\n  }\n};\n\n// Fetch market news (Alpha Vantage doesn't have a free news endpoint, so this is a simplified example)\nexport const fetchMarketNews = async () => {\n  try {\n    // For demonstration, using a time series as a substitute since Alpha Vantage's free tier doesn't include news\n    const response = await fetch(`https://www.alphavantage.co/query?function=TIME_SERIES_DAILY&symbol=SPY&apikey=${API_KEY}`);\n    if (!response.ok) {\n      throw new Error(`HTTP error! Status: ${response.status}`);\n    }\n    const data = await response.json();\n    return formatNewsData(data);\n  } catch (error) {\n    console.error('Error fetching market news:', error);\n    throw error;\n  }\n};\n\n// Format functions (implement these based on the API response structure)\nexport const formatStockData = data => {\n  // For Alpha Vantage Global Quote\n  if (data['Global Quote']) {\n    const quote = data['Global Quote'];\n    return {\n      symbol: quote['01. symbol'],\n      price: parseFloat(quote['05. price']),\n      change: parseFloat(quote['09. change']),\n      changePercent: quote['10. change percent'].replace('%', ''),\n      updated: new Date().toLocaleString()\n    };\n  }\n  return {\n    symbol: 'Unknown',\n    price: 0,\n    change: 0,\n    changePercent: 0,\n    updated: new Date().toLocaleString()\n  };\n};\nexport const formatCurrencyData = data => {\n  // For Alpha Vantage Currency Exchange Rate\n  if (data['Realtime Currency Exchange Rate']) {\n    const rate = data['Realtime Currency Exchange Rate'];\n    return {\n      fromCurrency: rate['1. From_Currency Code'],\n      toCurrency: rate['3. To_Currency Code'],\n      exchangeRate: parseFloat(rate['5. Exchange Rate']),\n      lastUpdated: rate['6. Last Refreshed']\n    };\n  }\n  return {\n    fromCurrency: 'Unknown',\n    toCurrency: 'Unknown',\n    exchangeRate: 0,\n    lastUpdated: new Date().toLocaleString()\n  };\n};\nexport const formatNewsData = data => {\n  // This is a simplified placeholder since Alpha Vantage free tier doesn't include news\n  // In a real app, you'd parse the actual news API response\n  return [{\n    title: 'Market Update',\n    source: 'Financial News',\n    url: '#',\n    publishedDate: new Date().toLocaleString(),\n    summary: 'This is placeholder news data. Subscribe to a news API for real data.'\n  }];\n};","map":{"version":3,"names":["API_KEY","process","env","REACT_APP_API_KEY","fetchStockData","symbol","response","fetch","ok","Error","status","data","json","formatStockData","error","console","fetchMultipleStocksData","symbols","promises","map","Promise","all","fetchCurrencyData","fromCurrency","toCurrency","formatCurrencyData","fetchMarketNews","formatNewsData","quote","price","parseFloat","change","changePercent","replace","updated","Date","toLocaleString","rate","exchangeRate","lastUpdated","title","source","url","publishedDate","summary"],"sources":["C:/Users/sarar/OneDrive/Desktop/projects/financial-dashboard/src/services/api.js"],"sourcesContent":["// src/services/api.js\r\nconst API_KEY = process.env.REACT_APP_API_KEY;\r\n\r\n// Fetch single stock data\r\nexport const fetchStockData = async (symbol = 'AAPL') => {\r\n  try {\r\n    const response = await fetch(`https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol=${symbol}&apikey=${API_KEY}`);\r\n    \r\n    if (!response.ok) {\r\n      throw new Error(`HTTP error! Status: ${response.status}`);\r\n    }\r\n    \r\n    const data = await response.json();\r\n    \r\n    // Check if API returned an error\r\n    if (data['Error Message']) {\r\n      throw new Error(data['Error Message']);\r\n    }\r\n    \r\n    return formatStockData(data);\r\n  } catch (error) {\r\n    console.error('Error fetching stock data:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Fetch multiple stocks data\r\nexport const fetchMultipleStocksData = async (symbols = ['AAPL', 'MSFT', 'GOOGL']) => {\r\n  try {\r\n    const promises = symbols.map(symbol => fetchStockData(symbol));\r\n    return await Promise.all(promises);\r\n  } catch (error) {\r\n    console.error('Error fetching multiple stocks data:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Fetch currency data\r\nexport const fetchCurrencyData = async (fromCurrency = 'USD', toCurrency = 'EUR') => {\r\n  try {\r\n    const response = await fetch(`https://www.alphavantage.co/query?function=CURRENCY_EXCHANGE_RATE&from_currency=${fromCurrency}&to_currency=${toCurrency}&apikey=${API_KEY}`);\r\n    \r\n    if (!response.ok) {\r\n      throw new Error(`HTTP error! Status: ${response.status}`);\r\n    }\r\n    \r\n    const data = await response.json();\r\n    return formatCurrencyData(data);\r\n  } catch (error) {\r\n    console.error('Error fetching currency data:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Fetch market news (Alpha Vantage doesn't have a free news endpoint, so this is a simplified example)\r\nexport const fetchMarketNews = async () => {\r\n  try {\r\n    // For demonstration, using a time series as a substitute since Alpha Vantage's free tier doesn't include news\r\n    const response = await fetch(`https://www.alphavantage.co/query?function=TIME_SERIES_DAILY&symbol=SPY&apikey=${API_KEY}`);\r\n    \r\n    if (!response.ok) {\r\n      throw new Error(`HTTP error! Status: ${response.status}`);\r\n    }\r\n    \r\n    const data = await response.json();\r\n    return formatNewsData(data);\r\n  } catch (error) {\r\n    console.error('Error fetching market news:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Format functions (implement these based on the API response structure)\r\nexport const formatStockData = (data) => {\r\n  // For Alpha Vantage Global Quote\r\n  if (data['Global Quote']) {\r\n    const quote = data['Global Quote'];\r\n    return {\r\n      symbol: quote['01. symbol'],\r\n      price: parseFloat(quote['05. price']),\r\n      change: parseFloat(quote['09. change']),\r\n      changePercent: quote['10. change percent'].replace('%', ''),\r\n      updated: new Date().toLocaleString()\r\n    };\r\n  }\r\n  return {\r\n    symbol: 'Unknown',\r\n    price: 0,\r\n    change: 0,\r\n    changePercent: 0,\r\n    updated: new Date().toLocaleString()\r\n  };\r\n};\r\n\r\nexport const formatCurrencyData = (data) => {\r\n  // For Alpha Vantage Currency Exchange Rate\r\n  if (data['Realtime Currency Exchange Rate']) {\r\n    const rate = data['Realtime Currency Exchange Rate'];\r\n    return {\r\n      fromCurrency: rate['1. From_Currency Code'],\r\n      toCurrency: rate['3. To_Currency Code'],\r\n      exchangeRate: parseFloat(rate['5. Exchange Rate']),\r\n      lastUpdated: rate['6. Last Refreshed']\r\n    };\r\n  }\r\n  return {\r\n    fromCurrency: 'Unknown',\r\n    toCurrency: 'Unknown',\r\n    exchangeRate: 0,\r\n    lastUpdated: new Date().toLocaleString()\r\n  };\r\n};\r\n\r\nexport const formatNewsData = (data) => {\r\n  // This is a simplified placeholder since Alpha Vantage free tier doesn't include news\r\n  // In a real app, you'd parse the actual news API response\r\n  return [\r\n    {\r\n      title: 'Market Update',\r\n      source: 'Financial News',\r\n      url: '#',\r\n      publishedDate: new Date().toLocaleString(),\r\n      summary: 'This is placeholder news data. Subscribe to a news API for real data.'\r\n    }\r\n  ];\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}